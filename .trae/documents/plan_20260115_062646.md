## Revised Plan to Fix Drag Boundary Restrictions

### Current Issue
The drag-and-drop functionality is constrained by the `DndContext` boundaries, which only wraps the kanban columns. When users try to drag cards outside this context (e.g., to the left timeline), the drag operation stops, limiting user flexibility.

### Root Cause
1. `DndContext` is only wrapping the kanban columns section
2. Drag events are not captured outside this context
3. Drag end handler only processes drops within kanban columns
4. No visual feedback when dragging to other areas
5. Cards may become invisible when dragged outside original columns

### Changes Needed
1. **Expand DndContext boundaries** to include both timeline sidebar and kanban columns
2. **Update drag end handler** to support dropping onto timeline items with validation
3. **Add visual feedback** for valid/invalid drop targets
4. **Ensure cards remain visible** during drag operations
5. **Optimize performance** for large numbers of cards
6. **Ensure cross-browser/device compatibility**

### Files to Modify
- `src/Home.tsx`: Update DndContext placement, drag handlers, and validation logic
- `src/App.css`: Add visual feedback styles, z-index management, and drag state styles

### Implementation Steps

1. **Expand DndContext Boundaries**
   - Move `DndContext` to wrap the entire dashboard main content (timeline + kanban)
   - Ensure proper event handling to avoid conflicts with other interactive elements
   - Add `id` attributes to timeline items for drop target identification

2. **Enhance Drag Visuals and Visibility**
   - Add CSS styles to ensure dragged cards have high z-index (always visible)
   - Implement drag state styling (shadow, slight transparency, scale effect)
   - Ensure cards remain visible when dragged outside their original columns

3. **Update Drag End Handler**
   - Add support for timeline drop targets in `handleDragEnd`
   - Implement validation for timeline drops (e.g., check time conflicts)
   - Update both UI and data models for consistent state
   - Add feedback for invalid drops

4. **Add Visual Feedback System**
   - Implement hover effects for valid drop targets
   - Add visual indicators for invalid drop areas
   - Ensure clear feedback in dense timeline layouts
   - Use dynamic color changes to indicate drop validity

5. **Optimize Performance**
   - Ensure smooth drag operations with proper event handling
   - Test with large numbers of cards
   - Implement efficient collision detection

6. **Test and Validate**
   - Test drag operations across all areas (kanban columns and timeline)
   - Validate data consistency after drops
   - Test on different browsers and devices
   - Ensure touch-friendly design for mobile devices

### Expected Result
- Task cards can be dragged freely across the entire dashboard
- Cards remain fully visible and visually enhanced during drag
- Clear visual feedback indicates valid/invalid drop targets
- Timeline items accept dragged cards with proper validation
- Drag-and-drop works seamlessly between all areas
- Smooth performance even with large numbers of cards
- Consistent behavior across browsers and devices

### Technical Details
- Use `closestCenter` collision detection for accurate drop target identification
- Implement proper z-index management to ensure dragged cards are always on top
- Add `data-*` attributes to drop targets for easy identification
- Use CSS transitions for smooth visual feedback
- Implement validation logic to prevent invalid drops
- Update state management to maintain data consistency

### Risk Mitigation
- Test thoroughly with different card counts and layouts
- Implement proper error handling for invalid operations
- Add fallback mechanisms for unexpected drag scenarios
- Ensure clear user feedback for all drag operations