## 问题分析

1. **当前问题**：点击左侧和右侧箭头按钮时，虽然改变了`selectedDate`状态，但没有调用`loadTodayData`函数来加载对应日期的数据，导致界面上的数据没有更新。

2. **根本原因**：
   - 导航函数只更新了本地状态，没有触发数据加载
   - `getCurrentDate`函数总是返回当前日期，而不是使用`selectedDate`状态
   - 界面上显示的日期信息没有与`selectedDate`状态同步

3. **相关代码位置**：
   - 导航函数：`src/Home.tsx:270-287`
   - `getCurrentDate`函数：`src/Home.tsx:60-76`
   - 日期显示：`src/Home.tsx:164`

## 解决方案

### 1. 修改导航函数，添加数据加载逻辑

在`handlePrevDay`和`handleNextDay`函数中，修改`selectedDate`后调用`loadTodayData`函数加载新日期的数据：

```javascript
const handlePrevDay = async () => {
  const prevDate = new Date(selectedDate);
  prevDate.setDate(prevDate.getDate() - 1);
  const newDate = prevDate.toISOString().split('T')[0];
  setSelectedDate(newDate);
  await loadTodayData(newDate);
};

const handleNextDay = async () => {
  const nextDate = new Date(selectedDate);
  nextDate.setDate(nextDate.getDate() + 1);
  const newDate = nextDate.toISOString().split('T')[0];
  setSelectedDate(newDate);
  await loadTodayData(newDate);
};

const handleToday = async () => {
  const today = new Date().toISOString().split('T')[0];
  setSelectedDate(today);
  await loadTodayData(today);
};
```

### 2. 修改`getCurrentDate`函数，支持传入日期参数

修改`getCurrentDate`函数，使其接受一个可选的日期参数，默认为当前日期：

```javascript
const getCurrentDate = (dateString?: string) => {
  const now = dateString ? new Date(dateString) : new Date();
  // ... 现有逻辑不变
};
```

### 3. 在界面上使用`selectedDate`显示当前日期

修改日期显示逻辑，使用`selectedDate`来获取当前显示的日期信息：

```javascript
const { month, day, weekday, yyyymmdd } = getCurrentDate(selectedDate);
```

### 4. 确保所有使用`getCurrentDate()`的地方都更新

检查并更新所有使用`getCurrentDate()`的地方，确保它们使用`selectedDate`参数。

## 预期效果

1. 点击左侧箭头按钮，会向前导航一天，同时加载并显示前一天的数据
2. 点击右侧箭头按钮，会向后导航一天，同时加载并显示后一天的数据
3. 点击"今日"按钮，会跳转到今天，同时加载并显示今天的数据
4. 界面上显示的日期信息会与当前选中的日期同步

## 实施步骤

1. 修改`getCurrentDate`函数，添加日期参数支持
2. 修改日期显示逻辑，使用`selectedDate`
3. 修改导航函数，添加`loadTodayData`调用
4. 检查并更新所有使用`getCurrentDate()`的地方
5. 测试导航功能，确保数据正确加载

## 相关文件

- `src/Home.tsx`：修改导航函数、`getCurrentDate`函数和日期显示逻辑