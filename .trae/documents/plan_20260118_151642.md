## 问题分析

1. **当前问题**：点击别的日期时，虽然调用了`loadTodayData`函数，但无法看到对应时间的任务。

2. **根本原因**：
   - `useEffect`的依赖项设置不正确，使用了派生值`yyyymmdd`作为依赖，而不是直接使用`selectedDate`状态
   - 当`selectedDate`变化时，`yyyymmdd`会重新计算，但React可能无法正确检测到这个变化
   - 虽然导航函数调用了`loadTodayData`，但`useEffect`可能在之后再次调用`loadTodayData(yyyymmdd)`，覆盖之前的结果

3. **相关代码位置**：
   - `useEffect`定义：`src/Home.tsx:788-801`
   - 依赖项：`[hasVault, yyyymmdd]`
   - `yyyymmdd`来源：`getCurrentDate(selectedDate)`

## 解决方案

### 1. 修改`useEffect`的依赖项和实现

将`useEffect`的依赖项从`[hasVault, yyyymmdd]`改为`[hasVault, selectedDate]`，并直接使用`selectedDate`调用`loadTodayData`：

```javascript
// Load today's data when component mounts or selectedDate changes
useEffect(() => {
  if (hasVault) {
    loadTodayData(selectedDate);
  }
  
  // Update current time every minute for the display
  const timeDisplayTimer = setInterval(() => {
    setCurrentTime(new Date().toLocaleTimeString('zh-CN', { hour: '2-digit', minute: '2-digit' }));
  }, 60000);
  
  return () => {
    clearInterval(timeDisplayTimer);
  };
}, [hasVault, selectedDate]);
```

### 2. 确保`selectedDate`状态与UI同步

确保界面上显示的日期信息与`selectedDate`状态同步，包括：
- 日期标题
- 任务的日期显示
- 其他与日期相关的UI元素

### 3. 检查`todayData`的更新逻辑

确保`loadTodayData`函数正确更新了`todayData`状态，并且界面组件能够正确响应`todayData`的变化。

## 预期效果

1. 点击左侧和右侧箭头按钮时，`selectedDate`状态更新
2. `useEffect`检测到`selectedDate`变化，调用`loadTodayData(selectedDate)`
3. `loadTodayData`函数从API获取对应日期的数据，更新`todayData`状态
4. 界面组件响应`todayData`变化，显示对应日期的任务

## 实施步骤

1. 修改`useEffect`的依赖项和实现
2. 验证`selectedDate`变化时，`useEffect`是否正确触发
3. 测试导航功能，确保点击箭头按钮时能够看到对应日期的任务
4. 运行TypeScript检查和构建命令，确保代码没有错误

## 相关文件

- `src/Home.tsx`：修改`useEffect`的依赖项和实现